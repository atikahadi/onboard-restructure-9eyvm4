<div class="d-flex align-items-center justify-content-center w-100 h-100" *ngIf="loading">
	<app-loader></app-loader>
</div>

<main class="d-flex min-vh-100" id="login">
	<div class="d-flex flex-column flex-md-row no-gutters w-100">
		<div class="container position-absolute w-50" style="z-index: 100">
			<div class="row align-items-start pt-3 px-3">
				<div class="text-left">
					<a aria-current="page" class="navbar-brand py-0 mr-0" routerLink="/" style="height: 3rem">
						<img
              src="https://celcomdesign.gitlab.io/system/iconography/svg/logo/logo-celcom.svg"
              alt="Celcom Onboarding"
              style="height: inherit;"
              title="Celcom Onboarding"
            />
          </a>
				</div>
			</div>
		</div>

		<div class="d-flex flex-column justify-content-center offset-md-3 col-md-6 min-vh-100 h-100 bg-white">
			<div class="container px-md-5">
				<h4 class="mb-3">
					Let's continue where you left off...
				</h4>
				<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
					<div *ngIf="error" class="alert alert-danger my-3">{{error}}</div>
					<div class="form-group">
						<input
              type="text"
              formControlName="username"
              class="form-control"
              placeholder=" "
              [ngClass]="{ 'is-invalid': submitted && f.username.errors }"
            />
						<label for="username">Username</label>
						<div *ngIf="submitted && f.username.errors" class="invalid-feedback">
							<div *ngIf="f.username.errors.required">Username is required</div>
						</div>
					</div>
					<div class="form-group">
						<input
              type="password"
              formControlName="password"
              class="form-control"
              placeholder=" "
              [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
            />
						<label for="password">Password</label>
						<div *ngIf="submitted && f.password.errors" class="invalid-feedback">
							<div *ngIf="f.password.errors.required">Password is required</div>
						</div>
					</div>
					<div class="d-flex justify-content-center py-0">
						<button
              [disabled]="loading || f.username.errors || f.password.errors"
              class="btn btn-primary"
            >
              <span
                *ngIf="loading"
                class="spinner-border spinner-border-sm mr-1"
              ></span>
              Login
            </button>
					</div>
				</form>
			</div>
		</div>
	</div>
</main>